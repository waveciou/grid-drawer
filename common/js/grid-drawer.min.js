(function(e){function i(){if(!e(".gridDrawer").length)return!1;{let i=e(".gd__item"),n=0;const r=5,d='<div class="gd__side gd__size-l"></div>',s='<div class="gd__side gd__size-s"></div>';i.each(function(){let i=e(this),t=i.index();t%r==0&&(n+=1);let d=`mark_group-${n}`;i.addClass(d)});for(let t=0;t<n;t++){let n=`.mark_group-${t+1}`;e(n).wrapAll('<div class="gd__group"></div>'),i.removeClass(`mark_group-${t+1}`)}e(".gd__group .gd__item").each(function(){let i=e(this),t=i.index()+1;i.addClass(`mark_item-${t}`)}),e(".gd__group").each(function(){let i=e(this),t=i.index(),n=t%2;0==n?(i.children(".mark_item-1").wrap(d),i.children(".mark_item-2, .mark_item-3").wrapAll(s),i.children(".mark_item-4, .mark_item-5").wrapAll(s)):(i.children(".mark_item-1, .mark_item-2").wrapAll(s),i.children(".mark_item-3, .mark_item-4").wrapAll(s),i.children(".mark_item-5").wrap(d))});for(let e=0;e<r;e++)i.removeClass(`mark_item-${e+1}`);t()}}function t(i){return!!e(".gridDrawer").length&&(i>1024?void e(".gd__group").each(function(){let i=0,t=0;e(this).children(".gd__side").css({position:"absolute"}).each(function(n){let r=e(this);t=n<=0?0:i,i=r.innerWidth()+i,r.css({left:t})})}):(e(".gd__group .gd__item").removeClass("is-open"),e(".gd__group .gd__side").attr("style",""),e(".gd__group .gd__inside").attr("style",""),!1))}function n(e,i,t,n){for(let r=i;r<t;r++)e.eq(r).velocity({marginLeft:n},{duration:g,easing:_,queue:!1})}function r(i){null==i&&(i=e(".gd__side")),i.velocity({marginLeft:"0%"},{duration:g,easing:_,queue:!1})}function d(i){null==i&&(i=e(".gridDrawer .gd__item")),i.children(".gd__inside").velocity({width:"0%",opacity:0},{duration:g,easing:_,queue:!1,complete:function(){e(this).css({display:"none"})}})}function s(i){if(e(".gridDrawer").find(".is-open").length){let t,s,o=i.parents(".gd__side"),a=i.parents(".gd__group"),l=a.children(".gd__side"),c=a.children(".gd__side").length,u=o.index();t=o.hasClass("gd__size-l")?"100%":"200%",s=a.index()%2==0,d(e(".gridDrawer .gd__item").not(i)),i.children(".gd__inside").css({display:"block"}).velocity({width:t,opacity:1},{duration:g,easing:_,queue:!1}),r(),2==u?n(l,0,3,"-50%"):s?0==u?n(l,1,3,"50%"):n(l,0,2,"-50%"):n(l,u+1,c,"50%")}else d(),r()}function o(){return e(".gd__item").not(".is-open").children(".gd__inside").stop(!0,!0).slideUp(g),e(".gd__item.is-open").children(".gd__inside").stop(!0,!0).slideDown(g),!1}const a=e(window);let l=a.outerWidth();const _="easeInOutQuint",g=600;e(".gridDrawer .open-btn").on("mousedown",function(e){e.preventDefault()}),e(".gridDrawer").on("click",function(i){if(0!=e(".gridDrawer .gd__inside").is(".velocity-animating"))return!1;{let t=e(i.target),n=t.parents(".gd__item");if(t.hasClass("open-btn"))n.hasClass("is-open")?n.removeClass("is-open"):(e(".gridDrawer .gd__item").removeClass("is-open"),n.addClass("is-open"));else{if(!t.hasClass("close-btn"))return!1;n.removeClass("is-open")}l=a.outerWidth(),l>1024?s(n):o()}}),i();let c=function(e,i,t){t=t||window;let n=!1,r=function(){n||(n=!0,requestAnimationFrame(function(){t.dispatchEvent(new CustomEvent(i)),n=!1}))};t.addEventListener(e,r)};c("resize","optimizedResize"),a.on("optimizedResize",function(){l=a.outerWidth(),t(l)}).trigger("optimizedResize")})($);